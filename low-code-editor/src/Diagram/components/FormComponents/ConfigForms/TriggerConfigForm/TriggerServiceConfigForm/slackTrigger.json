{
    "id": 1,
    "name": "Trigger",
    "displayName": "Slack",
    "triggerType": "slack",
    "documentation": "",
    "moduleName": "trigger.slack",
    "serviceTypes": [
        {
            "name": "SlackEventsAppService",
            "description": "",
            "functions": [
                {
                    "isRemote": true,
                    "documentation": "",
                    "name": "onAppMention",
                    "parameters": [
                        {
                            "name": "event",
                            "typeName": "record",
                            "optional": false,
                            "typeInfo": {
                                "name": "GenericEventWrapper",
                                "orgName": "ballerinax",
                                "moduleName": "trigger.slack",
                                "version": "0.3.0"
                            },
                            "displayAnnotation": {},
                            "fields": [
                                {
                                    "name": "event_id",
                                    "typeName": "string",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "name": "api_app_id",
                                    "typeName": "string",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "name": "team_id",
                                    "typeName": "string",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "fields": [
                                        {
                                            "name": "event_ts",
                                            "typeName": "string",
                                            "optional": false,
                                            "defaultable": false
                                        },
                                        {
                                            "name": "text",
                                            "typeName": "string",
                                            "optional": true,
                                            "defaultable": false
                                        },
                                        {
                                            "name": "type",
                                            "typeName": "string",
                                            "optional": false,
                                            "defaultable": false
                                        }
                                    ],
                                    "hasRestType": true,
                                    "restType": {
                                        "typeName": "anydata",
                                        "optional": false,
                                        "defaultable": false
                                    },
                                    "name": "event",
                                    "typeName": "record",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "name": "type",
                                    "typeName": "string",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "name": "event_time",
                                    "typeName": "int",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "name": "token",
                                    "typeName": "string",
                                    "optional": false,
                                    "defaultable": false
                                }
                            ],
                            "hasRestType": true,
                            "restType": {
                                "typeName": "anydata",
                                "optional": false,
                                "defaultable": false
                            },
                            "defaultable": false
                        }
                    ],
                    "returnType": {
                        "typeName": "error",
                        "optional": true,
                        "displayAnnotation": {},
                        "defaultable": false
                    }
                },
                {
                    "isRemote": true,
                    "documentation": "",
                    "name": "onAppRateLimited",
                    "parameters": [
                        {
                            "name": "event",
                            "typeName": "record",
                            "optional": false,
                            "typeInfo": {
                                "name": "GenericEventWrapper",
                                "orgName": "ballerinax",
                                "moduleName": "trigger.slack",
                                "version": "0.3.0"
                            },
                            "displayAnnotation": {},
                            "fields": [
                                {
                                    "name": "event_id",
                                    "typeName": "string",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "name": "api_app_id",
                                    "typeName": "string",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "name": "team_id",
                                    "typeName": "string",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "fields": [
                                        {
                                            "name": "event_ts",
                                            "typeName": "string",
                                            "optional": false,
                                            "defaultable": false
                                        },
                                        {
                                            "name": "text",
                                            "typeName": "string",
                                            "optional": true,
                                            "defaultable": false
                                        },
                                        {
                                            "name": "type",
                                            "typeName": "string",
                                            "optional": false,
                                            "defaultable": false
                                        }
                                    ],
                                    "hasRestType": true,
                                    "restType": {
                                        "typeName": "anydata",
                                        "optional": false,
                                        "defaultable": false
                                    },
                                    "name": "event",
                                    "typeName": "record",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "name": "type",
                                    "typeName": "string",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "name": "event_time",
                                    "typeName": "int",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "name": "token",
                                    "typeName": "string",
                                    "optional": false,
                                    "defaultable": false
                                }
                            ],
                            "hasRestType": true,
                            "restType": {
                                "typeName": "anydata",
                                "optional": false,
                                "defaultable": false
                            },
                            "defaultable": false
                        }
                    ],
                    "returnType": {
                        "typeName": "error",
                        "optional": true,
                        "displayAnnotation": {},
                        "defaultable": false
                    }
                },
                {
                    "isRemote": true,
                    "documentation": "",
                    "name": "onAppUninstalled",
                    "parameters": [
                        {
                            "name": "event",
                            "typeName": "record",
                            "optional": false,
                            "typeInfo": {
                                "name": "GenericEventWrapper",
                                "orgName": "ballerinax",
                                "moduleName": "trigger.slack",
                                "version": "0.3.0"
                            },
                            "displayAnnotation": {},
                            "fields": [
                                {
                                    "name": "event_id",
                                    "typeName": "string",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "name": "api_app_id",
                                    "typeName": "string",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "name": "team_id",
                                    "typeName": "string",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "fields": [
                                        {
                                            "name": "event_ts",
                                            "typeName": "string",
                                            "optional": false,
                                            "defaultable": false
                                        },
                                        {
                                            "name": "text",
                                            "typeName": "string",
                                            "optional": true,
                                            "defaultable": false
                                        },
                                        {
                                            "name": "type",
                                            "typeName": "string",
                                            "optional": false,
                                            "defaultable": false
                                        }
                                    ],
                                    "hasRestType": true,
                                    "restType": {
                                        "typeName": "anydata",
                                        "optional": false,
                                        "defaultable": false
                                    },
                                    "name": "event",
                                    "typeName": "record",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "name": "type",
                                    "typeName": "string",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "name": "event_time",
                                    "typeName": "int",
                                    "optional": false,
                                    "defaultable": false
                                },
                                {
                                    "name": "token",
                                    "typeName": "string",
                                    "optional": false,
                                    "defaultable": false
                                }
                            ],
                            "hasRestType": true,
                            "restType": {
                                "typeName": "anydata",
                                "optional": false,
                                "defaultable": false
                            },
                            "defaultable": false
                        }
                    ],
                    "returnType": {
                        "typeName": "error",
                        "optional": true,
                        "displayAnnotation": {},
                        "defaultable": false
                    }
                }
            ]
        }
    ],
    "listenerParams": [
        {
            "name": "listenerConfig",
            "typeName": "record",
            "optional": false,
            "typeInfo": {
                "name": "ListenerConfig",
                "orgName": "ballerinax",
                "moduleName": "trigger.slack",
                "version": "0.3.0"
            },
            "displayAnnotation": {},
            "fields": [
                {
                    "name": "verificationToken",
                    "typeName": "string",
                    "optional": false,
                    "defaultable": false
                }
            ],
            "hasRestType": true,
            "restType": {
                "typeName": "anydata",
                "optional": false,
                "defaultable": false
            },
            "defaultable": false
        },
        {
            "name": "listenOn",
            "typeName": "union",
            "optional": false,
            "defaultValue": "8090",
            "displayAnnotation": {},
            "members": [
                {
                    "typeName": "int",
                    "optional": false,
                    "defaultable": false
                },
                {
                    "name": "Listener",
                    "typeName": "Listener",
                    "optional": false,
                    "typeInfo": {
                        "name": "Listener",
                        "orgName": "ballerina",
                        "moduleName": "http",
                        "version": "2.0.0"
                    },
                    "defaultable": false
                }
            ],
            "defaultable": true
        }
    ],
    "displayAnnotation": {
        "label": "Slack",
        "iconPath": "resources/slack.svg"
    },
    "package": {
        "organization": "ballerinax",
        "name": "trigger.slack",
        "version": "0.3.0",
        "platform": "any",
        "languageSpecificationVersion": "2021R1",
        "URL": "/ballerinax/trigger.slack/0.3.0",
        "balaVersion": "2.0.0",
        "balaURL": "https://fileserver.staging-central.ballerina.io/2.0/ballerinax/trigger.slack/0.3.0/ballerinax-trigger.slack-any-0.3.0.bala",
        "digest": "sha-256=7ec6aabc84e68309e2a3ee1735b81185748d24d03debff56788e6d4c2f65430a",
        "summary": "Listen to [Slack Events API](https://api.slack.com/events) from Ballerina",
        "readme": "Listen to [Slack Events API](https:\/\/api.slack.com\/events) from Ballerina\n\n## Package overview\nThe `ballerinax\/trigger.slack` is a [Ballerina](https:\/\/ballerina.io\/) trigger for Slack.\nThis package provides the capability to access Slack Events API.\n\n### Compatibility\n|                               | Version                        |\n|-------------------------------|--------------------------------|\n| Ballerina Language            | Ballerina Swan Lake Beta3      |\n| Slack Events API              | V1.0.0                         | \n\n## Report issues\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina Extended Library repository](https:\/\/github.com\/ballerina-platform\/ballerina-extended-library)\n\n## Useful links\n- Discuss code changes of the Ballerina project in [ballerina-dev@googlegroups.com](mailto:ballerina-dev@googlegroups.com).\n- Chat live with us via our [Slack channel](https:\/\/ballerina.io\/community\/slack\/).\n- Post all technical questions on Stack Overflow with the [#ballerina](https:\/\/stackoverflow.com\/questions\/tagged\/ballerina) tag",
        "template": false,
        "licenses": [
            "Apache-2.0"
        ],
        "authors": [
            "Ballerina"
        ],
        "sourceCodeLocation": "https://github.com/ballerina-platform/asyncapi-triggers",
        "keywords": [
            "Communication/Team Chat",
            "Cost/Freemium",
            "Trigger"
        ],
        "ballerinaVersion": "slbeta3",
        "icon": "",
        "createdDate": 1636626596607,
        "pullCount": 0,
        "visibility": "public",
        "modules": [
            {
                "name": "trigger.slack",
                "summary": "The `ballerinax/trigger.slack` module provides a Listener to grasp events triggered from your Slack App. This functionality is provided by [Slack Events API](https://api.slack.com/apis/connections/events-api).",
                "readme": "## Overview\n\nThe `ballerinax\/trigger.slack` module provides a Listener to grasp events triggered from your Slack App. This functionality is provided by [Slack Events API](https:\/\/api.slack.com\/apis\/connections\/events-api).\n\n## Prerequisites\nBefore using this connector in your Ballerina application, complete the following:\n\n* Create a Slack account.\n* Subscribe to events and obtain verification token\n    1. Visit https:\/\/api.slack.com\/apps, create your own Slack App and enable Event Subscription by going to `Event Subscriptions` section in your Slack App.\n    2. Add events that you are planning to listen in the `Subscribe to events on behalf of users` section and save changes.\n    3. Obtain `Verification Token` from the `Basic Information` section of your Slack App.\n\n## Quickstart\nTo use the Slack listener in your Ballerina application, update the .bal file as follows:\n\n### Step 1: Import listener\nImport the `ballerinax\/trigger.slack` module as shown below.\n```ballerina\nimport ballerinax\/trigger.slack;\n```\n\n### Step 2: Create a new listener instance\nCreate a `slack:Listener` using your `Slack Verification Token`, port and initialize the listener with it.\n```ballerina\nslack:ListenerConfig configuration = {\n    verificationToken: \"VERIFICATION_TOKEN\"\n};\n\nlistener slack:Listener slackListener = new (configuration);\n```\n\n### Step 3: Implement a listener remote function\n1. Now you can implement a listener remote function supported by this connector.\n\n* Write a remote function to receive a particular event type. Implement your logic within that function as shown in the below sample.\n\n* Following is a simple sample for using Slack listener\n```ballerina\nimport ballerina\/log;\nimport ballerinax\/trigger.slack;\nlistener slack:Listener slackListener = new (verificationToken);\nservice slack:UserChangeService on slackListener {\n    isolated remote function onUserChange(slack:GenericEventWrapper event) returns error? {\n        log:printInfo(\"New Message\");\n    }\n}\n```\n2. Use `bal run` command to compile and run the Ballerina program.\n\n* Register the request URL\n    1. Run your ballerina service (similar to above sample) on prefered port.\n    2. Start ngrok on same port using the command ``` .\/ngrok http 9090 ```\n    3. In `Event Subscriptions` section of your Slack App settings, paste the URL issued by ngrok following with your service path (eg : ```https:\/\/365fc542d344.ngrok.io\/slack\/events```) (`'\/slack\/events'` should be added after thr ngrok URL).\n    4. Slack Event API will send a url_verification event containing the token and challenge key value pairs.\n    5. Slack Listener will automatically verify the URL by comparing the token and send the required response back to slack\n    6. Check whether your request URL displayed as `verified` in `Event Subscriptions` section of your Slack App.\n    7. Subscribe to the events that you are planning to listen and click `Save Changes` button.\n\n* Receiving events\n    * After successful verification of Request URL your ballerina service will receive events.",
                "apiDocURL": "https://staging-lib.ballerina.io/ballerinax/trigger.slack/0.3.0",
                "packageUrl": "/ballerinax/trigger.slack/0.3.0"
            }
        ]
    }
}